# Roadmap: имплементация нового дизайна WebApp G8 Adjumannya

Документ описывает **план внедрения** нового интерфейса на базе **shadcn-vue** и обновлённого визуального скелета. Цель — не реализовать дизайн сразу, а зафиксировать исследование, маппинг компонентов и поэтапный roadmap.

**Источники:**
- [Аудит бизнес-аналитика](./audit-business-analyst.md) — приоритеты фич, идеи развития
- [Аудит системного аналитика](./audit-system-analyst.md) — данные, API, архитектура
- [SKILL.md](../SKILL.md) — принципы фронтенд-дизайна (типографика, цвет, композиция)
- [shadcn/ui Components](https://ui.shadcn.com/docs/components) — перечень компонентов библиотеки
- [Tabler Icons](https://tabler.io/icons) — единый набор иконок (outline, 24×24, 2px stroke); без эмодзи в UI

---

## 1. Резюме исследования

### 1.1 Назначение приложения (из системного аудита)

- **G8 Adjumannya** — групповой челлендж «100 отжиманий в день».
- Точки входа: Telegram-бот и **WebApp (Vue 3 + Pinia + Vite)**.
- WebApp: авторизация через initData → JWT (v2) или токен из бота (v1); добавление отжиманий, результаты за сегодня (с правкой/удалением подходов), лидерборд, календарь, статистика.

### 1.2 Текущий стек WebApp

| Элемент | Сейчас |
|--------|--------|
| Фреймворк | Vue 3, Pinia, Vite |
| Стили | Глобальный `style.css` + scoped в компонентах, кастомные классы (.card, .leaderboard, .calendar и т.д.) |
| Шрифт | Manrope (Google Fonts) |
| UI-библиотека | Нет (собственные компоненты) |
| Tailwind / shadcn | Не установлены |

### 1.3 Текущие компоненты и экраны

| Компонент | Назначение |
|-----------|------------|
| `AppHeader` | Шапка: лого, название приложения |
| `AddBlock` | Ввод числа + кнопка «Добавить» (подход) |
| `TodayResults` | Список участников за день: прогресс-бар, имя, подходы (с редактированием/удалением), интервалы между подходами |
| `ProgressBar` | Визуализация прогресса к цели (100) — «стеклянный» вертикальный бар |
| `Leaderboard` | Лучшие результаты: медали/ранг, имя, значение, дата рекорда |
| `CalendarView` | Сетка месяца, навигация «назад/вперёд», ячейки по тону (empty / mid / high) и число отжиманий |
| `App.vue` | Сборка: блоки «Нет доступа», «Ошибка», AddBlock, TodayResults, Leaderboard, секция «Статистика», CalendarView |

Дополнительно в `App.vue`: статистика (дней участия, всего отжиманий, среднее за день), навигация по месяцам календаря, обработка демо-режима и авторизации.

### 1.4 Ключевые фичи из аудита бизнес-аналитика (для учёта в UI)

- **Высокий приоритет:** серии (streaks), «Мои чаты» (переключатель чата), настраиваемая норма в день.
- **Средний приоритет:** лидерборд за период (неделя/месяц), экспорт данных, достижения (badges), напоминания/цели, сравнение с участником чата, недельный отчёт в боте.
- **Низкий приоритет:** подтверждение при удалении подхода (уже упомянуто в аудите).

При подготовке нового дизайна нужно заложить места под: переключатель чата, отображение серий и настраиваемой нормы, позже — достижения, лидерборд за период, экспорт.

---

## 2. Целевой стек и скелет

### 2.1 Планируемый стек

| Элемент | Цель |
|--------|------|
| Сборка | Vite (без изменений) |
| Фреймворк | Vue 3, Pinia |
| Стили | **Tailwind CSS** + CSS-переменные (тема) |
| Компоненты | **shadcn-vue** ([v3.shadcn-vue.com](https://v3.shadcn-vue.com/docs/installation), [shadcn-vue.com](https://www.shadcn-vue.com/docs/installation)) |
| Инициализация | `npx shadcn-vue@latest init` (Vite, выбор темы и цвета, global CSS) |

**Важно:** в проекте пока **нет** `components.json` и Tailwind/shadcn — скелет предстоит установить по шагам из раздела 4.

### 2.2 Связь с дизайн-концепцией (SKILL.md)

- **Концепция дашборда:** сегодня, подходы, цель 100, участники чата, прогресс по челленджу; календарь с цветовыми ячейками; опционально светлая/тёмная/тёплая тема.
- **SKILL.md:** избегать «AI slop»; чёткая типографика, цветовая палитра, микро-анимации, выразительная композиция; соответствие сложности реализации выбранной эстетике (минимализм vs максимализм).

В roadmap закладываем: единая дизайн-система (переменные для цветов, типографики, отступов) и использование компонентов shadcn как базы, с кастомизацией под выбранный стиль (например, «тёплый мотивирующий» или «чистый минималистичный»).

---

## 3. Маппинг: текущий UI → компоненты shadcn

Используем [документацию shadcn/ui Components](https://ui.shadcn.com/docs/components). Для Vue берём аналог из **shadcn-vue** (те же названия и назначения).

| Текущий блок / элемент | Роль в новом дизайне | Компоненты shadcn (ориентир) |
|------------------------|----------------------|------------------------------|
| Шапка (AppHeader) | Лого + название + опционально переключатель чата | **Avatar**, типографика (**Typography**), позже **Select** или **Dropdown Menu** для «Мои чаты» |
| Карточки секций (.card) | Обёртка секций (сегодня, лидерборд, статистика, календарь) | **Card** (CardHeader, CardContent, CardTitle) |
| AddBlock: input + кнопка | Добавление подхода | **Input** (или **Input Group**), **Button** |
| TodayResults: список строк | Список участников с прогрессом и подходами | **Card**, **Progress** (или кастом на основе **Slider**/визуала), **Button**, **Input** для редактирования; для удаления — **Alert Dialog** (подтверждение) |
| ProgressBar | Прогресс к цели | **Progress** (линейный или кастомное кольцо/бар поверх) |
| Leaderboard: список | Таблица/список лидеров | **Table** или **Card** + список; **Badge** для медалей/ранга; **Avatar** опционально |
| Статистика (числа в списке) | Три метрики | **Card** + типографика или **Stat**-подобный блок (если будет в реестре) |
| CalendarView | Календарь месяца | **Calendar** (shadcn) + кастомная сетка по дням с цветом/значением; навигация — **Button** (icon) |
| Сообщения «Нет доступа» / «Ошибка» | Информационные блоки | **Alert** или **Alert Dialog** |
| Модальное подтверждение удаления | Подтверждение действия | **Alert Dialog** |
| Будущее: переключатель чата | Выбор чата | **Select** или **Dropdown Menu** |
| Будущее: настройки (норма, цель) | Формы настроек | **Form**, **Label**, **Input**, **Switch**, **Button** |
| Будущее: достижения | Сетка значков | **Card**, **Badge**, **Tooltip** |

Компоненты, которые стоит добавить в проект по мере внедрения: **Button**, **Input**, **Card**, **Progress**, **Alert**, **Alert Dialog**, **Table**, **Badge**, **Calendar**, **Select**, **Dropdown Menu**, **Avatar**, **Label**, **Form** (при появлении форм). Ориентир по полному списку: [ui.shadcn.com/docs/components](https://ui.shadcn.com/docs/components).

---

## 4. Этапы имплементации (roadmap)

### Фаза 0: Подготовка и скелет (документация и среда)

- [x] Зафиксировать выбор темы shadcn-vue (default / New York) и базовый цвет (slate, blue, green и т.д.) в соответствии с [SKILL.md](../SKILL.md).
- [ ] Добавить в репозиторий краткую дизайн-спеку (опционально): палитра (CSS-переменные), шрифты, отступы, скругления — чтобы все компоненты и кастомные блоки опирались на одну базу.
- [x] Установить Tailwind CSS в `web/` по [официальной инструкции Vite](https://tailwindcss.com/docs/guides/vite).
- [x] Выполнить `npx shadcn-vue@latest init` в `web/`, выбрать Vite, тему, цвет, путь к global CSS; убедиться, что появились `components.json`, нужные конфиги и папка `components/ui`.
- [x] Проверить сборку и отображение одного компонента (например, Button) на тестовой странице.

**Результат фазы 0:** в проекте есть рабочий скелет Tailwind + shadcn-vue, можно подключать компоненты.

---

### Фаза 1: Базовая структура и карточки

- [x] Подключить компоненты: **Card**, **Button**, **Input**, **Label** (по необходимости).
- [x] Переписать общую разметку `App.vue`: секции обернуть в **Card** (CardHeader/CardContent/CardTitle), заменить сырые кнопки и поля на **Button** и **Input**.
- [x] Адаптировать **AppHeader**: оставить лого и заголовок, стилизовать через типографику и при необходимости **Avatar**; пока без переключателя чатов.
- [x] Заменить блок «Добавить подход» (**AddBlock**) на **Card** + **Input** + **Button** без изменения логики (те же props/events).
- [x] Секции «Нет доступа», «Ошибка» перевести на **Alert** (или **Alert** внутри Card).

**Результат фазы 1:** главная страница визуально строится из shadcn-карточек и контролов; поведение и данные без изменений.

---

### Фаза 2: Сегодня и прогресс

- [x] Подключить **Progress** (и при необходимости **Skeleton** для загрузки).
- [x] Переписать **TodayResults**: каждая строка — Card или блок с **Progress**, подписи и список подходов; кнопки редактирования/удаления — **Button** (иконки/текст).
- [x] Редактирование подхода: inline **Input** + кнопки сохранить/отмена/удалить (**Button**).
- [x] Удаление: перед вызовом API показывать **Alert Dialog** («Удалить подход N отжиманий?») — закрывает пункт из аудита БА про подтверждение удаления.
- [x] **ProgressBar** заменить на **Progress** (или композит с Progress) с сохранением логики goal/value и визуала в рамках дизайн-системы.

**Результат фазы 2:** блок «Сегодня» и прогресс к цели полностью на shadcn, с подтверждением удаления.

---

### Фаза 3: Лидерборд и статистика

- [x] Подключить **Table** и/или **Badge**, **Avatar** (по желанию).
- [x] Переписать **Leaderboard**: список через **Table** или Card+список; медали/ранг — **Badge** или кастомные иконки в едином стиле.
- [x] Блок «Статистика» (дней участия, всего отжиманий, среднее): **Card** + типографика или небольшие метрики-карточки в одном ряду.

**Результат фазы 3:** лидерборд и статистика оформлены компонентами shadcn, готовность к добавлению «лидерборд за период» (API уже планируется в аудите).

---

### Фаза 4: Календарь

- [x] Подключить **Calendar** из shadcn-vue.
- [x] Переписать **CalendarView**: использовать **Calendar** как основу или кастомную сетку с той же разметкой (дни месяца, Пн–Вс); навигация по месяцам — **Button** с иконками (ChevronLeft/Right или аналог).
- [x] Сохранить логику тонов ячеек (empty / mid / high) и отображение числа отжиманий; стили ячеек привести к дизайн-системе (цвета из CSS-переменных).

**Результат фазы 4:** календарь на базе shadcn Calendar или согласованной с ним разметки.

---

### Фаза 5: Дизайн-система и полировка

- [x] Ввести единые CSS-переменные для цветов, скруглений, отступов, теней (в соответствии с выбранной темой и [SKILL.md](../SKILL.md)); при необходимости переопределить токены Tailwind/shadcn.
- [ ] Типографика: выбрать шрифты (например, отличные от Manrope по SKILL — «characterful»), подключить и применить к заголовкам и телу.
- [ ] Опционально: тёмная тема через переключатель и CSS-переменные / класс темы.
- [x] Микро-анимации: появление секций, переходы (например, `animation-delay` для карточек) — в объёме, соответствующем выбранной эстетике.
- [x] Адаптивность и доступность: проверить фокусы, контраст, поведение на малых экранах (WebApp часто открывается в узком viewport).

**Результат фазы 5:** целостный визуальный стиль, соответствие SKILL, готовность к добавлению новых фич.

---

### Фаза 6: Новые фичи из аудита (после стабилизации UI)

- [ ] **Мои чаты:** API `GET /api/v2/chats` (из аудита БА); в шапке или настройках — **Select** или **Dropdown Menu** для выбора чата; при смене — перезапрос status/records по `chat_id`.
- [ ] **Серии (streaks):** API `current_streak`, `best_streak` (например, в `GET /api/v2/me/stats` или в истории); отображение в дашборде (блок или строка «Серия: N дней», «Лучшая серия: M»).
- [ ] **Настраиваемая норма в день:** настройка `target_per_day` (форма в настройках или отдельная карточка); отображение в статусе «X/Y» и учёт в Progress и сериях.
- [ ] Дальше по приоритету: лидерборд за период, достижения (badges), экспорт данных, сравнение с участником — с использованием уже введённых компонентов (Card, Table, Badge, Button и т.д.).

---

## 5. Зависимости и риски

| Зависимость | Описание |
|-------------|----------|
| API v2 | Текущий UI уже опирается на v2 (JWT, status, records, history, approaches). Новые фичи (chats, streaks, target_per_day) потребуют доработки бэкенда по аудиту БА. |
| Бот | Ссылка на WebApp с параметрами (token/user_id) не меняется; при добавлении «Мои чаты» важно сохранить совместимость с открытием из бота. |
| Демо-режим | Сохранить `VITE_DEMO` и логику загрузки демо-данных при переписывании компонентов. |

| Риск | Митигация |
|------|-----------|
| Несовместимость shadcn-vue с текущей версией Vue/Vite | Перед фазой 0 проверить совместимость версий в документации shadcn-vue и при необходимости обновить Vue/Vite. |
| Разрыв визуала с дизайн-спекой | Явно зафиксировать в дизайн-спеке цвета и стиль (светлый/тёмный/тёплый) и использовать их в CSS-переменных и теме shadcn. |
| Рост размера бандла | Подключать только нужные компоненты shadcn (добавлять по одному через CLI), не подтягивать всю библиотеку. |

---

## 6. Чеклист перед стартом разработки

- [ ] Прочитаны [audit-business-analyst.md](./audit-business-analyst.md) и [audit-system-analyst.md](./audit-system-analyst.md).
- [ ] Учтены блоки дашборда (сегодня, календарь, статистика, лидерборд) и варианты темы в дизайн-спеке.
- [ ] Выбран вариант темы (светлая / тёмная / тёплая) и базовая палитра.
- [ ] Проверена совместимость shadcn-vue с текущими версиями Vue 3 и Vite в `web/package.json`.
- [ ] Решено, где хранить дизайн-спеку (отдельный файл в `docs/` или раздел в этом roadmap).
- [ ] Фаза 0 (установка скелета) выполняется первой; фазы 1–5 — последовательно; фаза 6 — после стабилизации UI.

---

## 7. Ссылки

- [Аудит бизнес-аналитика](./audit-business-analyst.md)
- [Аудит системного аналитика](./audit-system-analyst.md)
- [SKILL.md (фронтенд-дизайн)](../SKILL.md)
- [shadcn/ui Components](https://ui.shadcn.com/docs/components)
- [shadcn-vue Installation (Vite)](https://v3.shadcn-vue.com/docs/installation/vite) / [shadcn-vue.com](https://www.shadcn-vue.com/docs/installation)
- [Tabler Icons](https://tabler.io/icons)

---

## 8. Рекомендации по геймификации и UX (10 агентов)

Дополнения от десяти перспектив: UX, гейм-дизайн, моушн, удержание, визуал, доступность, контент, метрики, Telegram-контекст, системность. Иконки — только [Tabler Icons](https://tabler.io/icons); эмодзи в интерфейсе не использовать. Стиль — минималистичный, без перегруза бордерами, современный и бодрый, без «слопа».

---

### Агент 1: UX-исследователь (удобство и ясность)

**Вопросы к документу:** Где в roadmap явно зафиксирована иерархия экрана (что видит пользователь в первую секунду)? Как мы снижаем когнитивную нагрузку при «добавить подход» и при просмотре «сегодня»?

**Ответы и дополнения:**

- В дизайн-спеке и в фазе 1 зафиксировать: **первый экран = «сегодня» + прогресс к цели + одна зона ввода** (добавить подход). Лидерборд и календарь — ниже, без конкуренции за внимание с главным действием.
- Заголовки секций — короткие, с иконкой Tabler (например, `IconFlame` для «Сегодня», `IconTrophy` для лидерборда, `IconCalendar` для календаря). Иконки улучшают скан и не требуют лишних бордеров.
- Добавить в фазу 2: состояние «пустой день» (ещё не добавил ни одного подхода) — один призыв к действию и поле ввода, без пустых таблиц.

**Оценка:** сейчас **5/10** (маппинг и фазы есть, поведенческая модель экрана не описана). После внедрения **8/10**.

---

### Агент 2: Гейм-дизайнер (геймификация и мотивация)

**Вопросы к документу:** Где цикл «действие → награда → следующая цель»? Как пользователь видит прогресс серии и достижения без перегруза UI?

**Ответы и дополнения:**

- **Момент награды:** при достижении дневной нормы (100 или target_per_day) — короткая визуальная обратная связь: заполнение прогресс-бара до 100% + минимальная анимация (например, лёгкое «пульсирование» или галочка), без модалок и конфетти. Один чёткий момент «норма выполнена».
- **Серии (streaks):** вынести в верх дашборда или в одну строку под шапкой: «N дней подряд» с иконкой Tabler `IconFlame` (или `IconTrendingUp`). Лучшая серия — вторично, например в блоке статистики или по тапу. Не превращать в отдельную тяжёлую карточку.
- **Достижения (badges):** когда появятся — компактная сетка иконок с Tooltip (название + условие). Иконки из Tabler (Sport, Badges и т.д.) или простые SVG; не перегружать экран.
- В фазу 6 добавить пункт: **чек-лист дня** — необязательная визуализация «норма выполнена / подходы добавлены» как один индикатор (галочка или иконка), не список задач.

**Оценка:** сейчас **4/10** (streaks и badges упомянуты, но петля награды и чек-лист не расписаны). После внедрения **8/10**.

---

### Агент 3: Моушн-дизайнер (анимация интерфейса)

**Вопросы к документу:** Какие именно анимации и с какой длительностью? Как избежать «слопа» и сохранить минимализм?

**Ответы и дополнения:**

- **Принцип:** анимация только там, где подкрепляет действие или появление контента. Длительность 200–350 ms; easing — ease-out для входа, ease-in-out для переключений.
- **Конкретизировать в фазе 5:** (1) появление карточек при загрузке — лёгкий fade + небольшой сдвиг по Y (stagger 40–60 ms между карточками); (2) прогресс-бар — плавное изменение ширины/высоты при обновлении числа; (3) добавление подхода — новая строка в списке «Сегодня» появляется с коротким slide-in или fade; (4) достижение нормы — лёгкое масштабирование (scale 1 → 1.02 → 1) или мягкий «пульс» у блока прогресса, один раз.
- Не делать: бесконечные скелетоны, параллакс, сложные траектории. Использовать CSS и при необходимости Vue transition; тяжёлые библиотеки не подключать.

**Оценка:** сейчас **3/10** (микро-анимации упомянуты общими словами). После внедрения **8/10**.

---

### Агент 4: Специалист по удержанию (retention)

**Вопросы к документу:** Что заставляет пользователя открыть WebApp завтра? Где в UI «крючок» на следующий заход?

**Ответы и дополнения:**

- **Серия (streak)** — главный крючок: всегда видна в шапке или сразу под ней. Текст вида «7 дней» + иконка; при риске сброса (если сегодня ещё 0) — нейтральное напоминание, не вина («Добавь подход, чтобы сохранить серию»).
- **Лидерборд:** показывать «ты на K месте» или «до следующего места N отжиманий» — одна строка, с иконкой Tabler. Соревнование без перегруза.
- **Календарь:** визуально выделять «сегодня» (рамка или акцент, не жирный бордер). Заполненные дни создают паттерн «не хочу пропускать».
- В roadmap явно указать: при первом открытии после полуночи (новый день) не показывать пугающий «0», а мягкий сброс и призыв «Добавь первый подход».

**Оценка:** сейчас **4/10** (фичи есть, retention-логика не выписана). После внедрения **8/10**.

---

### Агент 5: Визуальный дизайнер (минимализм, без слопа)

**Вопросы к документу:** Как избежать перегруза бордерами и «типового» вида? Где правила по иконкам и цвету?

**Ответы и дополнения:**

- **Бордеры:** карточки — без обводки или с очень тонкой (1px, цвет фона тени). Разделение секций — за счёт отступов и фона, не линий. В дизайн-спеке зафиксировать: «бордер только у интерактивных элементов в состоянии фокуса/ошибки».
- **Иконки:** единый набор [Tabler Icons](https://tabler.io/icons), стиль Outline, размер 20–24px, stroke 2. В навигации, заголовках секций, кнопках действий — иконка + текст или только иконка с Tooltip. Эмодзи не использовать.
- **Цвет:** один доминирующий акцент (например, прогресс и primary-кнопка); остальное — нейтральные оттенки. Зелёный для «норма выполнена», янтарный для «в процессе» — из переменных темы, не рандом.
- Шрифты и скругления — по SKILL.md; избегать «Inter + фиолетовый градиент» и прочего типового набора.

**Оценка:** сейчас **5/10** (есть shadcn и SKILL, нет жёстких правил по бордерам и иконкам). После внедрения **9/10**.

---

### Агент 6: Специалист по доступности (a11y)

**Вопросы к документу:** Как экран читается с screen reader? Есть ли достаточный контраст и размер тапов?

**Ответы и дополнения:**

- Все иконки без подписи — `aria-label` или видимый текст в Tooltip; кнопки (добавить, сохранить, удалить) — понятные метки.
- Прогресс к цели: дублировать числом («67 из 100») и визуалом; для скринридера — `role="progressbar"` и `aria-valuenow` / `aria-valuemax`.
- Минимальная область тапа — 44×44 px (Telegram WebApp часто на телефоне). В фазе 1–2 проверить кнопки и ячейки календаря.
- Контраст текста и фона — минимум WCAG AA; в дизайн-спеке зафиксировать контраст для основного текста и для «второстепенного».

**Оценка:** сейчас **4/10** (адаптивность упомянута, a11y не детализирована). После внедрения **8/10**.

---

### Агент 7: Контент и копирайтинг (тексты интерфейса)

**Вопросы к документу:** Какие формулировки для кнопок, ошибок и пустых состояний? Один тон на всё приложение?

**Ответы и дополнения:**

- Тон: короткий, нейтрально-дружелюбный, без панибратства. «Добавить подход», «Норма выполнена», «Удалить подход?» — без «ура» и смайлов в копии (эмодзи не в UI).
- Пустые состояния: «Пока нет подходов за сегодня» + один призыв «Добавить»; ошибка сети — «Не удалось обновить. Проверь сеть и попробуй снова»; «Нет доступа» — как в roadmap, без лишнего.
- Серия: «N дней подряд», «Лучшая серия: M дней». Достижения — короткие названия в Tooltip.
- Зафиксировать в дизайн-спеке или в отдельном чеклисте: один файл/раздел с ключевыми строками (русский), чтобы копия не разъехалась при реализации.

**Оценка:** сейчас **3/10** (копия в roadmap не выделена). После внедрения **7/10**.

---

### Агент 8: Метрики и обратная связь (данные в UI)

**Вопросы к документу:** Какие числа показываем и в каком формате? Как не перегрузить цифрами?

**Ответы и дополнения:**

- **Главные метрики на дашборде:** сегодня (X / цель), текущая серия, место в лидерборде (или «топ-3»). Остальное — в блоке «Статистика» или ниже.
- Формат: целые числа для отжиманий; даты — короткий формат (дд.мм или «сегодня»). Проценты только если нужны (например, «70% до нормы»), не везде.
- Лидерборд: значение рекорда + дата рекорда; при «лидерборд за период» — период явно подписан (неделя/месяц).
- В roadmap добавить: не показывать «0 дней подряд» крупно; лучше «Начни серию сегодня» или просто скрыть блок до первого выполненного дня.

**Оценка:** сейчас **5/10** (статистика есть, приоритет метрик не задан). После внедрения **8/10**.

---

### Агент 9: Telegram и WebApp-контекст

**Вопросы к документу:** Как учёт открытия из бота и узкого viewport влияет на вёрстку и на первый экран?

**Ответы и дополнения:**

- WebApp открывается часто в пол-экрана Telegram; верхняя часть — самая ценная. Шапка компактная (лого + название + опционально чат); первый контент — прогресс и ввод, без скролла до «сложного».
- Кнопка «Добавить» — всегда в зоне большого пальца (нижняя часть видимой области или фиксированный блок). В фазе 1 зафиксировать: не прятать основной CTA в конец длинной страницы.
- Ссылка из бота с параметрами (token, user_id) — не менять; при «Мои чаты» сохранять возможность открыть «текущий» чат по умолчанию из start_param.
- В чеклист перед стартом: тестирование в Telegram WebApp (iOS/Android) на узкой ширине и с клавиатурой.

**Оценка:** сейчас **5/10** (viewport упомянут, Telegram-специфика не расписана). После внедрения **8/10**.

---

### Агент 10: Системность и реализация (следующие экраны)

**Вопросы к документу:** Как новые экраны (настройки, достижения, экспорт) будут консистентны с текущим roadmap? Как не запутать разработку?

**Ответы и дополнения:**

- **Единые правила для всех экранов:** (1) одна дизайн-спека (переменные, отступы, иконки Tabler, без эмодзи); (2) секции — Card без лишних бордеров; (3) заголовки секций — иконка + текст; (4) анимации — только перечисленные в п. 8.3 (моушн); (5) копия — из общего списка строк.
- Новые экраны описывать по шаблону: назначение → ключевые блоки → компоненты shadcn + иконки Tabler → пустые/ошибочные состояния. Добавить в раздел 4 (фазы) подпункт «Фаза 6+»: шаблон для спецификации нового экрана.
- В маппинг (раздел 3) уже заложены настройки, достижения, переключатель чата — при их реализации брать компоненты оттуда и не вводить новые паттерны без обновления roadmap.
- Один раз в документе явно указать: «Все последующие экраны следуют тем же правилам: минимализм, Tabler Icons, без эмодзи, бордеры только где необходимо».

**Оценка:** сейчас **5/10** (фазы и маппинг есть, шаблон для расширения нет). После внедрения **9/10**.

---

### Сводка: оценки и приоритеты изменений

| Агент | Сейчас (из 10) | После внедрения (из 10) | Главное, что добавить/прописать |
|-------|----------------|-------------------------|----------------------------------|
| 1. UX-исследователь | 5 | 8 | Иерархия первого экрана, иконки в заголовках, состояние «пустой день» |
| 2. Гейм-дизайнер | 4 | 8 | Момент награды при норме, серия вверху, чек-лист дня, компактные достижения |
| 3. Моушн-дизайнер | 3 | 8 | Конкретные анимации (список + длительность + easing), без перегруза |
| 4. Удержание | 4 | 8 | Streak как крючок, «ты на K месте», выделение «сегодня» в календаре, мягкий сброс дня |
| 5. Визуальный дизайнер | 5 | 9 | Правило «минимум бордеров», только Tabler Icons, один акцентный цвет |
| 6. Доступность | 4 | 8 | aria-label у иконок, progressbar a11y, зона тапа 44px, контраст в спеке |
| 7. Контент | 3 | 7 | Тон и ключевые строки в спеке/чеклисте, пустые состояния и ошибки |
| 8. Метрики | 5 | 8 | Приоритет метрик на экране, формат чисел, не акцентировать «0» серии |
| 9. Telegram WebApp | 5 | 8 | Компактная шапка, CTA в зоне большого пальца, тест в TG |
| 10. Системность | 5 | 9 | Шаблон для новых экранов, единые правила, Фаза 6+ |

**Итог по документу:** средняя оценка «сейчас» ~4.3/10; «после внедрения» рекомендаций ~8.2/10. Критичные дополнения: дизайн-спека с правилами по бордерам и иконкам (Tabler), момент награды и серия в UI, конкретный список анимаций, шаблон для следующих экранов, копия и a11y в чеклисте.

---

## 9. Дополнения к roadmap (включить в фазы)

Ниже — пункты, которые стоит встроить в соответствующие фазы документа.

- **Фаза 0:** Подключить [Tabler Icons](https://tabler.io/icons) (npm-пакет `@tabler/icons-vue` или SVG sprite); зафиксировать в дизайн-спеке: иконки только Tabler, без эмодзи; минимум бордеров (только фокус/ошибка).
- **Фаза 1:** Иерархия первого экрана: сверху — прогресс/сегодня и блок «Добавить подход»; заголовки секций — иконка (Tabler) + текст; CTA «Добавить» в зоне большого пальца.
- **Фаза 2:** Момент награды при достижении нормы (анимация прогресс-бара + лёгкий пульс/галочка); состояние «пустой день» — один призыв и поле ввода; кнопки редактирования/удаления — иконки Tabler с aria-label.
- **Фаза 4:** В календаре визуально выделять «сегодня» (акцент без жирного бордера); навигация — иконки ChevronLeft/ChevronRight (Tabler).
- **Фаза 5:** Список анимаций: появление карточек (stagger), прогресс-бар, появление новой строки подхода, момент «норма выполнена»; длительность 200–350 ms, ease-out/ease-in-out; контраст и зона тапа 44px в спеке.
- **Фаза 6:** Серия (streak) — в шапке или первой строке дашборда с иконкой Tabler; «Лучшая серия» — в статистике; при достижении нормы — один раз короткая позитивная обратная связь без модалки. Фаза 6+: шаблон спецификации нового экрана (назначение, блоки, компоненты, пустые/ошибочные состояния) и правило: все экраны следуют тем же визуальным и копирайтерским правилам.

---

*Документ подготовлен как roadmap по результатам исследования; реализация дизайна выполняется отдельно по фазам. Рекомендации раздела 8 интегрированы в раздел 9 и в соответствующие фазы при имплементации.*
